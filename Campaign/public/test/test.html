<!DOCTYPE html>
<html>
<head>
	<title>test</title>
</head>
<body>
	<script type="text/javascript">
    (function(win, doc) {
        function mock(fn) {
            return function() {
                this._.push([fn, arguments])
            }
        }
        function load(url) {
            var script = doc.createElement("script");
            script.type = "text/javascript";
            script.async = true;
            script.src = url;
            doc.getElementsByTagName("head")[0].appendChild(script);
        }
        win.remplib = win.remplib || {};
        var mockFuncs = {
            "campaign": "init",
            "tracker": "init trackEvent trackPageview trackCommerce",
            "iota": "init"
        }

        Object.keys(mockFuncs).forEach(function (key) {
            if (!win.remplib[key]) {
                var fn, i, funcs = mockFuncs[key].split(" ");
                win.remplib[key] = {_: []};

                for (i = 0; i < funcs.length; i++) {
                    fn = funcs[i];
                    win.remplib[key][fn] = mock(fn);
                }
            }
        });
        // change URL to location of CAMPAIGN remplib.js
        load("http://campaign.remp.press/assets/lib/js/remplib.js");
    })(window, document);

    var rempConfig = {
        // UUIDv4 based REMP BEAM token of appropriate property
        // (see BEAM Admin -> Properties)
        // required if you're using REMP segments
        token: '4e44b80c-0f6d-3c80-87e8-bc6088a31577',

        // // optional
        // userId: String,

        // // optional, flag whether user is a subscriber
        // userSubscribed: Boolean,

        // // optional
        // browserId: String,

        // optional, controls where are cookies stored
        cookieDomain: ".remp.press",


        // required
        campaign: {
            // required URL location of REMP CAMPAIGN
            url: "http://campaign.remp.press",

            variables: {
                // variables replace template placeholders in banners,
                // e.g. {{ email }} -> foo@example.com
                //
                // the callback doesn't pass any parameters, it's required for convenience and just-in-time evaluation
                //
                // missing variable is translated to empty string
                email: {
                    value: function() {
                        return "foo@example.com"
                    }
                }
            }
        }

        // if you want to automatically track banner events to BEAM Tracker,
        // add also rempConfig.tracker property
        //
        // see REMP BEAM README.md

    };
    remplib.campaign.init(rempConfig);
</script>

</body>
</html>